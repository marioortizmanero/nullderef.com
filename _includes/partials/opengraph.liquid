{% comment %} TODO: introduce absUrl filter? {% endcomment %}
{% if layout == "layouts/post.liquid" %}
  <meta property="og:og_type" content="article">
  <meta property="article:section" content="blog">
  <meta property="article:author" content="{{ author }}">
  <meta property="article:published_time" content="{{ date | iso8601Date }}">
  <meta property="article:modified_time" content="{{ page.inputPath | lastModified | iso8601Date }}">

  {%- if series %}
    {%- assign postsInSeries = collections.posts | getPostsInSeries: series %}
    {%- for post in postsInSeries %}
      {% if post.url != page.url %}
        <meta property="og:see_also" content="{{ metadata.url }}{{ post.url }}">
      {% endif %}
    {%- endfor %}
  {%- endif %}

  {%- if tags %}
    {%- for tag in tags %}
      <meta property="article:tag" content="{{ tag }}">
    {%- endfor %}
  {%- endif %}
{% else %}
  <meta property="og:og_type" content="website">
{% endif %}

<meta property="og:url" content="{{ metadata.url }}{{ page.url }}">
<meta property="og:site_name" content="{{ metadata.title | escape }}">
<meta property="og:title" content="{{ title | default: metadata.title | escape }}">
{%- if image %}
<meta property="og:image" content="{{ metadata.url }}/{{ image }}">
{%- endif %}
<meta property="og:description" content="{{ description | default: metadata.description | markdownify | strip_html | escape }}">
<meta property="og:locale" content="{{ metadata.language }}">
