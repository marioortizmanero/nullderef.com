<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="811" height="651" style="background-color:#fff" viewBox="-0.5 -0.5 811 651"><path fill="none" stroke="#000" stroke-miterlimit="10" d="M414.81 320.65h216.12" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m636.18 320.65-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:310px;margin-left:457px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">new(source)</div></div></div></foreignObject><text x="457" y="313" font-family="Helvetica" font-size="11" text-anchor="middle">new(source)</text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M164.81 230h167.82" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m337.88 230-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:221px;margin-left:253px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">source::builder(ConnectorConfig)</div></div></div></foreignObject><text x="253" y="224" font-family="Helvetica" font-size="11" text-anchor="middle">source::builder(ConnectorConfig)</text></switch><path fill="#f8cecc" stroke="#b85450" d="M340 200h150v40H340z" pointer-events="all"/><path fill="none" stroke="#b85450" stroke-dasharray="3 3" stroke-miterlimit="10" d="M415 240v190" pointer-events="all"/><text x="414.5" y="224.5" font-family="Helvetica" font-size="12" text-anchor="middle">SourceManagerBuilder</text><path fill="#FFF" stroke="#000" d="M410 270h10v130h-10z" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="m420 374.66 284.7 1.31" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m709.95 375.99-7.01 3.47 1.76-3.49-1.73-3.51Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:366px;margin-left:493px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;font-style:italic;background-color:#fff;white-space:nowrap">spawn_task(manager.run())</div></div></div></foreignObject><text x="493" y="369" font-family="Helvetica" font-size="11" font-style="italic" text-anchor="middle">spawn_task(manager.run())</text></switch><path fill="#f8cecc" stroke="#b85450" d="M530 250h100v40H530z" pointer-events="all"/><path fill="none" stroke="#b85450" stroke-dasharray="3 3" stroke-miterlimit="10" d="M580 290v360" pointer-events="all"/><text x="579.5" y="274.5" font-family="Helvetica" font-size="12" text-anchor="middle">dyn Source</text><path fill="#FFF" stroke="#000" d="M575 400h10v210h-10z" pointer-events="all"/><path fill="#f8cecc" stroke="#b85450" d="M110 150h110v40H110z" pointer-events="all"/><path fill="none" stroke="#b85450" stroke-dasharray="3 3" stroke-miterlimit="10" d="M165 190v460" pointer-events="all"/><text x="164.5" y="174.5" font-family="Helvetica" font-size="12" text-anchor="middle">dyn Connector</text><path fill="#FFF" stroke="#000" d="M160 210h10v410h-10z" pointer-events="all"/><path fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" d="M305 0h220v152.5h-72.4l-22.2 20 2.2-20H305Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:218px;height:1px;padding-top:76px;margin-left:306px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><div>The source or sink builders initialize the source or sink, starting their manager in a new task. Unlike the connectors manager, a source or sink manager will only handle a single one of them, so they may communicate directly without channels.<br/></div><div><br/></div><div>Note that a connector may implement only a source, a sink or both, so it is possible that one of these will not be created in the first place.<br/></div></div></div></div></foreignObject><text x="415" y="80" font-family="Helvetica" font-size="11" text-anchor="middle">The source or sink builders initialize t...</text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="m170 261 354.03-.2" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m529.28 260.8-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:251px;margin-left:248px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">create_source(source_builder)</div></div></div></foreignObject><text x="248" y="255" font-family="Helvetica" font-size="11" text-anchor="middle">create_source(source_builder)</text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M14 220h138.22" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m157.47 220-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:211px;margin-left:82px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">manager.connector_task()</div></div></div></foreignObject><text x="82" y="214" font-family="Helvetica" font-size="11" text-anchor="middle">manager.connector_task()</text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="m530.7 282-102.92.82" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m422.53 282.86 6.97-3.55-1.72 3.51 1.78 3.49Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:274px;margin-left:502px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">spawn()</div></div></div></foreignObject><text x="502" y="277" font-family="Helvetica" font-size="11" text-anchor="middle">spawn()</text></switch><image xlink:href="https://cdn4.iconfinder.com/data/icons/basic-user-interface-2/512/User_Interface-02-128.png" width="40" height="40" x="394.5" y="409.5" preserveAspectRatio="none"/><path fill="#f8cecc" stroke="#b85450" d="M640 300h150v40H640z" pointer-events="all"/><path fill="none" stroke="#b85450" stroke-dasharray="3 3" stroke-miterlimit="10" d="M715 340v310" pointer-events="all"/><text x="714.5" y="324.5" font-family="Helvetica" font-size="12" text-anchor="middle">SourceManager</text><path fill="#FFF" stroke="#000" d="M710 360h10v250h-10z" pointer-events="all"/><path fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" d="M0 373.76v-73.75h116.25v10.97l20 3.04-20 16.96v42.78Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:114px;height:1px;padding-top:337px;margin-left:1px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">This entire process happens for both sources and sinks in a very similar way.</div></div></div></foreignObject><text x="58" y="340" font-family="Helvetica" font-size="11" text-anchor="middle">This entire process h...</text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M714.5 475H585.87" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m580.62 475 7-3.5-1.75 3.5 1.75 3.5Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:466px;margin-left:672px"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">pull_data()</div></div></div></foreignObject><text x="672" y="469" font-family="Helvetica" font-size="11" text-anchor="middle">pull_data()</text></switch><path fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" d="M290.01 620V470h251.25v44l20-24.5-20 43.5v87Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:249px;height:1px;padding-top:545px;margin-left:291px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><div>Once the source manager has started in its own task, it starts to continuously pull data from the source, or in the case of the sinks, it starts to continuously read from the channel.<br/></div><div><br/></div><div>This now works under the concept of &quot;streams&quot;. They make it possible to maintain a state between calls of the same stream; mainly the codec and pre/postprocessors. Sometimes this isn&apos;t necessary, in which case it&apos;s assigned the DEFAULT_STREAM_ID identifier.<br/></div></div></div></div></foreignObject><text x="416" y="548" font-family="Helvetica" font-size="11" text-anchor="middle">Once the source manager has started in its ow...</text></switch><path fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" d="M580 80h230v141.26h-77.6l-14.4 20-4.6-20H580Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:228px;height:1px;padding-top:151px;margin-left:581px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><div>The main difference here between sources and sinks is that the latter&apos;s channel combines both incoming and outgoing messages. This is because some sinks like TCP or WebSockets are able to reply to an incoming message under the same connection (without the need for a source).</div><div><br/></div><div>Sources, on the other hand, only send messages, so one can call `pull_data` directly.<br/></div></div></div></div></foreignObject><text x="695" y="154" font-family="Helvetica" font-size="11" text-anchor="middle">The main difference here between sources a...</text></switch><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank" transform="translate(0 -5)"><text x="50%" y="100%" font-size="10" text-anchor="middle">Text is not SVG - cannot display</text></a></switch></svg>